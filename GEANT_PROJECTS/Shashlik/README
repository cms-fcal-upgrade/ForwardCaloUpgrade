                            Example02
                            ---------

	This example simulates a Hadron Endcap (HE) calorimeter
        with SE (photon preshower) and ECAL in front of
        and some additional dead materials between ECAL and HE. 
	(This setup is very close to the real geometry)
	
 1- GEOMETRY DEFINITION
 -----------------------

 	The Hadron Endcap (HE) calorimeter is a box (149.6) along X-axis 
        consist of 17 layers. The front of HE calorimeter starts from
        x=0.0*cm and propagates to positive direction. The transverse
        HE calorimeter size is 100.0*cm (Y-axis) and 100.0*cm (Z-axis). 
        Each HE layer (88.0*mm) consists of an absorber plate (79.0*mm Brass) 
        and of an air gap (9.0*mm). Inside air gap the aluminium wrapper 
        (7.0*mm) is placed. The sensitive plate of 3.9*mm thickness of 
        scintillator is inside of aluminium wrapper. The layer is
 	replicated.
 	
        In front of HE calorimeter the next materials are placed:

          a) Zero layer of HE calorimeter (15.0*mm aluminium wrapper
             with 9.0*mm sensitive scintillator material inside);

          b) Cables from ECAL (1.5*mm of copper at x = -35.8*cm);

          c) G10 plate behind ECAL and in front of HE (2.5*mm at x = -59.80*cm);

          d) ECAL itself (220.0*mm box of PbWO4 material at x = -70.80*cm);

          e) Aluminium support in front of ECAL (4.5*mm at x = -82.025*cm);

          f) Aluminium part of SE (photon preshower) (3.0*cm at x = -98.3*cm);

          g) Lead part of SE (photon preshower) (1.5*cm at x = 100.55*cm);

          h) G10 plate in front of SE (2.5*mm at x = -101.425*cm). 	

    1a. The new option is introduced for the ECAL geometry:
    -------------------------------------------------------

          a) as default geometry - ECAL is 220.0*mm box of PbWO4 material;
          
          b) second option - ECAL is a sampling calorimeter with the set of 
             variable parameters: number of calorimetr's layers, thickness of 
             absorber and  sensitive layers, different absorber and sensitive 
             materials. All these parameters can be choosen by user through 
             input file (hadr01.in); 

          c) also there is possibility to apply uniform magnetic field along 
             x-axis; 
 
          d) user can chose the value of production cuts for the different
             sensitive and absorber medias (Ecal and Hcal); 
 
          e) example how to set these parameters is presented below:

#
# Set Ecal calorimeter: homogeneous or sampling (Shashlyk) type 
#--------------------------------------------------------------
#
# Absorber materials can be: Lead, Brass, Tungsten:
#--------------------------------------------------
#
# Sensitive materials are: LAG, YAG, LSO, LYSO, LYSOc, YSO and PbWO:
#-------------------------------------------------------------------
# Sens1 = (LAG  = Lu3_Al5_O12  and density 6.7  g/cm3);
# Sens2 = (YAG  = Y3_Al5_O12   and density 4.57 g/cm3);
# Sens3 = (LSO  = Lu2_Si_O5    and density 7.41 g/cm3);
# Sens4 = (LYSO = Lu2(1-x)_Y2x_Si_O5, x=0.1, density 7.11 g/cm3);
# Sens5 = (LYSOc= Lu2(1-x)_Y2x_Si_O5:Ce, x=0.1,doped 0.05% Ce,density 7.11 g/cm3);
# Sens6 = (YSO  = Y2_Si_O5     and density 4.54 g/cm3);
# PbWO  = (PbWO = Pb_W_O4      and density 8.30 g/cm3);
#------------------------------------------------------
#
# setNbOfLayers    - number of layers in sampling Ecal  
# setEcalAbsMat    - type of Ecal absorber material
# setEcalSensMat   - type of Ecal sensitive material
# setEcalAbsThick  - thickness of Ecal absorber material in layer
# setEcalSensThick - thickness of Ecal sensitive material in layer
#
# Total length of Ecal calorimeter L=(AbsThick+SensThick)*NbOfLayers
# must be  <= 220.0 mm.
#
# If you want to simulate the homogeneous Ecal calorimeter 
# please set NbOfLayers=1 and EcalAbsThick=0.0
#
/ecal/det/setNbOfLayers 100
/ecal/det/setEcalAbsMat Lead
/ecal/det/setEcalSensMat LYSO
/ecal/det/setEcalAbsThick  1.1 mm
/ecal/det/setEcalSensThick 1.1 mm
#
# setHcalAbsMat - type of Hcal absorber material
# (only Brass have been foreseen yet), needed for applying
# different production cuts in Hcal absorber material
#
/ecal/det/setHcalAbsMat Brass
#
# Set special production cut for choosen medias:
#-----------------------------------------------
#
/run/setCutForRegion Brass 0.5 mm
/run/setCutForRegion PbWO 0.1 mm
#
# Apply uniform magnetic field along beam direction (x-axis): 
#------------------------------------------------------------
#
/ecal/det/setMagField 0.0 kG
#

 2- HISTOGRAMs
 --------------
   
      There are 3 TH1D-histograms with deposited energies in the different
      part of setup: 

          a) Ecal - total deposited energy in sensitive ECAL (GeV scale);

          b) Hcal - sum of deposited energy in all sensitive
                    (scintillator) layers (MeV scale);

          c) Zero - deposited energy in the scintillator of "zero"
                    HE layer.

      There are also ROOT "TTree" with different values:

          a) ROOT 'TTree' "Total" presents deposited energy in sensitive
             layers of ECAL, HCAL, Zero-layer and total range of charged 
             particles in sensitive medias of Ecal and HCAL.

          b) ROOT 'TTree' "Vector" presents deposited energies for each
             layer (17 entries) of HE calorimeter. 
            
      The 4 new TH1D-histograms with shower profile distributions are added:
             
          a) EcalTrShape - Ecal transverse shower profile;

          b) EcalLoShape - Ecal longitudinal shower profile; 

          c) HcalTrShape - Hcal transverse shower profile;

          d) HcalLoShape - Hcal longitudinal shower profile;
 
       There is the possibility to change the bin width and total number 
       of bins for these (shower profiles) histograms (see example below):

#
# Set binning for Shower profile histos: 
#---------------------------------------
#
# setHcalRbin(0) - reserve
# setHcalRbin(1) - number of bins for Hcal transverse shower profile
# setHcalRbin(2) - bin width [mm] for Hcal transverse shower profile
#
# setSensRbin(0) - reserve
# setSensRbin(1) - number of bins for Ecal transverse shower profile
# setSensRbin(2) - bin width [mm] for Ecal transverse shower profile
#
# setSensLbin(0) - reserve
# setSensLbin(1) - number of bins for Ecal longitudinal shower profile
# setSensLbin(2) - bin width [mm] for Ecal longitudinal shower profile
# ( if Ecal is sampling calorimeter ==> bin width = 1 layer )
#
/ecal/det/setHcalRbin 0 100 5.0
/ecal/det/setSensLbin 0 100 5.0
/ecal/det/setSensRbin 0 100 1.0
# 

 3- CHANGE PHYSICS LIST
 ----------------------

  a) open with editor the fcalor.cc-file in the main directory;

  b) chose the next 2-lines with preferable physics list,
     for example:

     #include QGSP_BERT_EMV.hh 
     and
     runManager-> SetUserInitialization(new QGSP_BERT_EMV)
  

     	
 4- HOW TO START 
 ----------------

  a) source /afs/cern.ch/sw/lcg/external/gcc/4.3.2/x86_64-slc5/setup.csh

  b) setenv G4BASE /afs/cern.ch/sw/lcg/external/geant4

  c) source $G4BASE/9.4.p02/x86_64-slc5-gcc43/setup.csh

  d) gmake 

  e) Run program

     ~/geant4/9.4.p02/x86_64-slc5-gcc43/bin/Linux-g++/fcalor hadr01.in > test_out01


 5- INPUT and OUTPUT FILEs
 --------- ---------------

    a) hadr01.in contains example of control lines for job running. 

    b) test_01.root - output ROOT file with Tree's and histos.
